{"ast":null,"code":"import _objectSpread from\"/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import styles from'./EditEmployee.module.scss';import{useForm}from'react-hook-form';import{updateEmployee}from'../../../../../Utils/fetch';import{updatingEmployee}from'../../employeesSlice';import{useAppDispatch}from'../../../../../hooks';// import {NavLink,useNavigate} from 'react-router-dom';\nimport validation from'./validation';import FormErrors from'../../../../FormErrors/FormErrors';import Modal from'../../../../Modal/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditEmployee=function EditEmployee(_ref){var _formState$errors$fir,_formState$errors$las,_formState$errors$tit,_formState$errors$cit,_formState$errors$cou;var onClose=_ref.onClose,employee=_ref.employee;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState,setValue=_useForm.setValue;var dispatch=useAppDispatch();var submitEmpHandler=function submitEmpHandler(employee){updateEmployee(employee).then(function(_employee){dispatch(updatingEmployee(_employee));// onEditEmployee(_employee);\nonClose();}).catch(function(err){return console.log(err);});};useEffect(function(){setValue('id',employee.id);setValue('firstName',employee.firstName);setValue('lastName',employee.lastName);setValue('title',employee.title);setValue('city',employee.city);setValue('country',employee.country);setValue('birthDate',employee.birthDate);},[]);return/*#__PURE__*/_jsx(Modal,{onClose:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.EditEmployee,children:[/*#__PURE__*/_jsx(\"span\",{className:\"closing\",onClick:onClose,children:\"X\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submitEmpHandler),className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:employee.id}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$fir=formState.errors.firstName)===null||_formState$errors$fir===void 0?void 0:_formState$errors$fir.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('firstName',validation.firstName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$las=formState.errors.lastName)===null||_formState$errors$las===void 0?void 0:_formState$errors$las.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('lastName',validation.lastName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$tit=formState.errors.title)===null||_formState$errors$tit===void 0?void 0:_formState$errors$tit.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05E4\\u05E7\\u05D9\\u05D3:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('title',validation.title)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$cit=formState.errors.city)===null||_formState$errors$cit===void 0?void 0:_formState$errors$cit.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E2\\u05D9\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('city',validation.city)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$cou=formState.errors.country)===null||_formState$errors$cou===void 0?void 0:_formState$errors$cou.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05DE\\u05D3\\u05D9\\u05E0\\u05D4:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('country',validation.country)))]}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"date\"},register('birthDate'))),/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"file\",accept:\"image/*\"},register('imageName'))),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"\\u05E9\\u05DE\\u05D9\\u05E8\\u05D4\"})]})]})});};export default EditEmployee;","map":{"version":3,"names":["React","useEffect","styles","useForm","updateEmployee","updatingEmployee","useAppDispatch","validation","FormErrors","Modal","jsx","_jsx","jsxs","_jsxs","EditEmployee","_ref","_formState$errors$fir","_formState$errors$las","_formState$errors$tit","_formState$errors$cit","_formState$errors$cou","onClose","employee","_useForm","register","handleSubmit","formState","setValue","dispatch","submitEmpHandler","then","_employee","catch","err","console","log","id","firstName","lastName","title","city","country","birthDate","children","className","onClick","onSubmit","type","value","error","errors","message","_objectSpread","accept"],"sources":["/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/src/components/layoutArea/EmployeesArea/Employees/EditEmployee/EditEmployee.tsx"],"sourcesContent":["import React, { FC, useEffect } from 'react';\nimport styles from './EditEmployee.module.scss';\nimport {useForm} from 'react-hook-form';\nimport Employee from '../../../../../models/Employee';\nimport { updateEmployee } from '../../../../../Utils/fetch';\nimport {updatingEmployee} from '../../employeesSlice';\nimport { useAppDispatch } from '../../../../../hooks';\n// import {NavLink,useNavigate} from 'react-router-dom';\nimport validation from './validation';\nimport FormErrors from '../../../../FormErrors/FormErrors';\nimport Modal from '../../../../Modal/Modal';\n\ninterface EditEmployeeProps {\n  onClose: () => void;\n  employee: Employee;\n}\n\nconst EditEmployee: FC<EditEmployeeProps> = ({onClose,employee}) => {\n\n  const {register, handleSubmit, formState, setValue} = useForm<Employee>();\n  const dispatch = useAppDispatch();\n\n  const submitEmpHandler = (employee:Employee) => {\n    \n     updateEmployee(employee).then((_employee) => {\n\n      dispatch(updatingEmployee(_employee));\n      // onEditEmployee(_employee);\n      onClose();\n\n    }).catch((err) => console.log(err))\n  }\n  useEffect(() => {\n    setValue('id', employee.id);\n    setValue('firstName',employee.firstName);\n    setValue('lastName',employee.lastName);\n    setValue('title',employee.title);\n    setValue('city',employee.city);\n    setValue('country',employee.country);\n    setValue('birthDate',employee.birthDate);\n  },[]);\n\n  return(\n\n    <Modal onClose={onClose}>\n      \n          <div className={styles.EditEmployee}>\n          <span className='closing' onClick={onClose}>X</span><br />\n\n      <form onSubmit={handleSubmit(submitEmpHandler)} className='form-group'>\n        <input type=\"hidden\" value={employee.id} />\n        <FormErrors error={formState.errors.firstName?.message}>\n        <label>שם פרטי:</label><br />\n        <input className='form-control' type=\"text\" {...register('firstName',validation.firstName)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.lastName?.message}>\n        <label>שם משפחה:</label><br />\n        <input className='form-control' type=\"text\" {...register('lastName',validation.lastName)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.title?.message}>\n        <label>תפקיד:</label><br />\n        <input className='form-control' type=\"text\" {...register('title',validation.title)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.city?.message}>\n        <label>עיר מגורים:</label><br />\n        <input className='form-control' type=\"text\" {...register('city',validation.city)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.country?.message}>\n        <label>מדינה:</label><br />\n        <input className='form-control' type=\"text\" {...register('country',validation.country)} />\n        </FormErrors>\n\n        <label>תאריך לידה</label><br />\n        <input className='form-control' type=\"date\" {...register('birthDate')} />\n\n        <label>תמונה:</label>\n        <input  className='form-control' type=\"file\" accept='image/*' {...register('imageName')} /><br />\n\n        <button>שמירה</button>\n      </form>\n    </div>\n    </Modal>\n  );\n}\n\nexport default EditEmployee;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}