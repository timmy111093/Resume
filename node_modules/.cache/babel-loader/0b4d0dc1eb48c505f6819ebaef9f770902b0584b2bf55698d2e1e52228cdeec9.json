{"ast":null,"code":"import _objectSpread from\"/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import styles from'./AddEmployee.module.scss';import{useForm}from'react-hook-form';import{useAppDispatch}from'../../../../../../hooks';import{addEmployee}from'../../../../../../Utils/fetch';import{useNavigate}from'react-router-dom';import validation from'./validation';import FormErrors from'../../../../../FormErrors/FormErrors';import Modal from'../../../../../Modal/Modal';import{addingEmployee}from'../../../employeesSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddEmployee=function AddEmployee(_ref){var _formState$errors$fir,_formState$errors$las,_formState$errors$tit,_formState$errors$cit,_formState$errors$cou;var onClose=_ref.onClose;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState;var nav=useNavigate();var dispatch=useAppDispatch();var submitEmpHandler=function submitEmpHandler(employee){addEmployee(employee).then(function(_employee){dispatch(addingEmployee(_employee));// onAddEmployee(_employee);\nonClose();}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(Modal,{onClose:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:styles.AddEmployee,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submitEmpHandler),className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05E2\\u05D5\\u05D1\\u05D3 \\u05D7\\u05D3\\u05E9\"}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$fir=formState.errors.firstName)===null||_formState$errors$fir===void 0?void 0:_formState$errors$fir.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('firstName',validation.firstName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$las=formState.errors.lastName)===null||_formState$errors$las===void 0?void 0:_formState$errors$las.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('lastName',validation.lastName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$tit=formState.errors.title)===null||_formState$errors$tit===void 0?void 0:_formState$errors$tit.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05E4\\u05E7\\u05D9\\u05D3:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('title',validation.title)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$cit=formState.errors.city)===null||_formState$errors$cit===void 0?void 0:_formState$errors$cit.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E2\\u05D9\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('city',validation.city)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$cou=formState.errors.country)===null||_formState$errors$cou===void 0?void 0:_formState$errors$cou.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05DE\\u05D3\\u05D9\\u05E0\\u05D4:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"text\"},register('country',validation.country)))]}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"date\"},register('birthDate'))),/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control\",type:\"file\",accept:\"image/*\"},register('imageName'))),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"\\u05D4\\u05D5\\u05E1\\u05E3\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"\\u05E1\\u05D2\\u05D5\\u05E8\"})]})})});};export default AddEmployee;","map":{"version":3,"names":["React","styles","useForm","useAppDispatch","addEmployee","useNavigate","validation","FormErrors","Modal","addingEmployee","jsx","_jsx","jsxs","_jsxs","AddEmployee","_ref","_formState$errors$fir","_formState$errors$las","_formState$errors$tit","_formState$errors$cit","_formState$errors$cou","onClose","_useForm","register","handleSubmit","formState","nav","dispatch","submitEmpHandler","employee","then","_employee","catch","err","console","log","children","className","onSubmit","error","errors","firstName","message","_objectSpread","type","lastName","title","city","country","accept","onClick"],"sources":["/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/src/components/layoutArea/EmployeesArea/Employees/EmployeeDetails/AddEmployee/AddEmployee.tsx"],"sourcesContent":["import React, { FC } from 'react';\nimport styles from './AddEmployee.module.scss';\nimport {useForm} from 'react-hook-form';\nimport {useAppDispatch} from '../../../../../../hooks';\nimport Employee from '../../../../../../models/Employee';\nimport { addEmployee } from '../../../../../../Utils/fetch';\nimport {NavLink,useNavigate} from 'react-router-dom';\nimport validation from './validation';\nimport FormErrors from '../../../../../FormErrors/FormErrors';\nimport Modal from '../../../../../Modal/Modal';\nimport { addingEmployee } from '../../../employeesSlice';\n\ninterface AddEmployeeProps {\n  onClose: () => void;\n\n}\n\nconst AddEmployee: FC<AddEmployeeProps> = ({onClose}) => {\n\n  const {register,handleSubmit, formState} = useForm<Employee>();\n  const nav = useNavigate();\n  const dispatch = useAppDispatch();\n\n  const submitEmpHandler = (employee:Employee) => {\n     addEmployee(employee).then((_employee) => {\n\n      dispatch(addingEmployee(_employee));\n      // onAddEmployee(_employee);\n      onClose();\n\n    }).catch((err) => console.log(err))\n  }\n\n  return(\n\n    <Modal onClose={onClose}>\n          <div className={styles.AddEmployee}>\n      <form onSubmit={handleSubmit(submitEmpHandler)} className='form-group'>\n        <h2>הוסף עובד חדש</h2>\n        <FormErrors error={formState.errors.firstName?.message}>\n        <label>שם פרטי:</label><br />\n        <input className='form-control' type=\"text\" {...register('firstName',validation.firstName)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.lastName?.message}>\n        <label>שם משפחה:</label><br />\n        <input className='form-control' type=\"text\" {...register('lastName',validation.lastName)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.title?.message}>\n        <label>תפקיד:</label><br />\n        <input className='form-control' type=\"text\" {...register('title',validation.title)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.city?.message}>\n        <label>עיר מגורים:</label><br />\n        <input className='form-control' type=\"text\" {...register('city',validation.city)} />\n        </FormErrors>\n        <FormErrors error={formState.errors.country?.message}>\n        <label>מדינה:</label><br />\n        <input className='form-control' type=\"text\" {...register('country',validation.country)} />\n        </FormErrors>\n\n        <label>תאריך לידה</label><br />\n        <input className='form-control' type=\"date\" {...register('birthDate')} />\n\n        <label>תמונה:</label>\n        <input  className='form-control' type=\"file\" accept='image/*' {...register('imageName')} /><br />\n\n        <button>הוסף</button>\n        <button onClick={onClose}>סגור</button>\n      </form>\n    </div>\n    </Modal>\n  );\n}\n\nexport default AddEmployee;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}