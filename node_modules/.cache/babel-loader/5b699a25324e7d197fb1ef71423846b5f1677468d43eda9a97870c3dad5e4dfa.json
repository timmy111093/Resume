{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{AUTH_LOGIN_SESSION_STORAGE_KEY}from'../config';import{handleToken,setInitialAuthState}from'./utils';export var authSlice=createSlice({name:'auth',initialState:setInitialAuthState,reducers:{registration:function registration(state,_ref){var token=_ref.payload;// saving the token action\nhandleToken(state,token);},login:function login(state,_ref2){var token=_ref2.payload;// saving the token action\nhandleToken(state,token);},logout:function logout(state){//remove token/user from session storage\nstate.token=null;state.user=null;sessionStorage.removeItem(AUTH_LOGIN_SESSION_STORAGE_KEY);}}});//export the action creators\nvar _authSlice$actions=authSlice.actions,registration=_authSlice$actions.registration,login=_authSlice$actions.login,logout=_authSlice$actions.logout;export{registration,login,logout};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","AUTH_LOGIN_SESSION_STORAGE_KEY","handleToken","setInitialAuthState","authSlice","name","initialState","reducers","registration","state","_ref","token","payload","login","_ref2","logout","user","sessionStorage","removeItem","_authSlice$actions","actions","reducer"],"sources":["/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/src/auth/authSlice.ts"],"sourcesContent":["import User from '../models/User';\nimport {createSlice,PayloadAction} from '@reduxjs/toolkit';\nimport { AUTH_LOGIN_SESSION_STORAGE_KEY } from '../config';\nimport { handleToken, setInitialAuthState } from './utils';\n\nexport interface AuthState{\n      user: User | null;\n      token: string | null;\n}\n\nexport const authSlice = createSlice({\n      name: 'auth',\n      initialState: setInitialAuthState,\n      reducers:{\n            registration: (state,{ payload: token }:PayloadAction<string>) => {\n                  // saving the token action\n                  handleToken(state,token);\n            },\n            login: (state, {payload: token}: PayloadAction<string>) => {\n                  // saving the token action\n                  handleToken(state,token);\n            },\n            logout: (state) => {\n                  //remove token/user from session storage\n                  state.token = null;\n                  state.user = null;\n                  sessionStorage.removeItem(AUTH_LOGIN_SESSION_STORAGE_KEY);\n            }\n      }\n})\n//export the action creators\nexport const {registration,login,logout} = authSlice.actions;\n\nexport default authSlice.reducer;\n\n"],"mappings":"AACA,OAAQA,WAAW,KAAqB,kBAAkB,CAC1D,OAASC,8BAA8B,KAAQ,WAAW,CAC1D,OAASC,WAAW,CAAEC,mBAAmB,KAAQ,SAAS,CAO1D,MAAO,IAAM,CAAAC,SAAS,CAAGJ,WAAW,CAAC,CAC/BK,IAAI,CAAE,MAAM,CACZC,YAAY,CAAEH,mBAAmB,CACjCI,QAAQ,CAAC,CACHC,YAAY,CAAE,SAAAA,aAACC,KAAK,CAAAC,IAAA,CAA8C,IAAlC,CAAAC,KAAK,CAAAD,IAAA,CAAdE,OAAO,CACxB;AACAV,WAAW,CAACO,KAAK,CAACE,KAAK,CAAC,CAC9B,CAAC,CACDE,KAAK,CAAE,SAAAA,MAACJ,KAAK,CAAAK,KAAA,CAA8C,IAAlC,CAAAH,KAAK,CAAAG,KAAA,CAAdF,OAAO,CACjB;AACAV,WAAW,CAACO,KAAK,CAACE,KAAK,CAAC,CAC9B,CAAC,CACDI,MAAM,CAAE,SAAAA,OAACN,KAAK,CAAK,CACb;AACAA,KAAK,CAACE,KAAK,CAAG,IAAI,CAClBF,KAAK,CAACO,IAAI,CAAG,IAAI,CACjBC,cAAc,CAACC,UAAU,CAACjB,8BAA8B,CAAC,CAC/D,CACN,CACN,CAAC,CAAC,CACF;AACO,IAAAkB,kBAAA,CAAoCf,SAAS,CAACgB,OAAO,CAA9CZ,YAAY,CAAAW,kBAAA,CAAZX,YAAY,CAACK,KAAK,CAAAM,kBAAA,CAALN,KAAK,CAACE,MAAM,CAAAI,kBAAA,CAANJ,MAAM,CAAsB,OAAAP,YAAA,CAAAK,KAAA,CAAAE,MAAA,EAE7D,cAAe,CAAAX,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}