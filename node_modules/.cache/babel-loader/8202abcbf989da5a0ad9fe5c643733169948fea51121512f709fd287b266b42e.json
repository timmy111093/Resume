{"ast":null,"code":"import _objectSpread from\"/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useForm}from'react-hook-form';import*as Auth from'../../../auth/authSlice';import Button from'../../Button/Button';import FormErrors from'../../FormErrors/FormErrors';import styles from'./Register.module.scss';import{registerAsync}from'../../../fetch/auth';import{useAppDispatch}from'../../../hooks';import{useNavigate}from'react-router-dom';import authValidation from'../authValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _formState$errors$fir,_formState$errors$las,_formState$errors$use,_formState$errors$pas;var navigate=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState;var dispatch=useAppDispatch();var registerHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return registerAsync(user);case 3:token=_context.sent;dispatch(Auth.registration(token));alert('registration succeed!!!');navigate('/home');console.log(token);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('error:'+_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function registerHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"Box \".concat(styles.Register),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(registerHandler),children:[/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$fir=formState.errors.firstName)===null||_formState$errors$fir===void 0?void 0:_formState$errors$fir.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"first name:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register('firstName',authValidation.firstName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$las=formState.errors.lastName)===null||_formState$errors$las===void 0?void 0:_formState$errors$las.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"last name:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register('lastName',authValidation.lastName)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$use=formState.errors.username)===null||_formState$errors$use===void 0?void 0:_formState$errors$use.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"username:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register('username',authValidation.username)))]}),/*#__PURE__*/_jsxs(FormErrors,{error:(_formState$errors$pas=formState.errors.password)===null||_formState$errors$pas===void 0?void 0:_formState$errors$pas.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"password:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\"},register('password',authValidation.password)))]}),/*#__PURE__*/_jsx(Button,{children:\"Register\"})]})]});};export default Register;","map":{"version":3,"names":["React","useForm","Auth","Button","FormErrors","styles","registerAsync","useAppDispatch","useNavigate","authValidation","jsx","_jsx","jsxs","_jsxs","Register","_formState$errors$fir","_formState$errors$las","_formState$errors$use","_formState$errors$pas","navigate","_useForm","register","handleSubmit","formState","dispatch","registerHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","token","wrap","_callee$","_context","prev","next","sent","registration","alert","console","log","t0","stop","_x","apply","arguments","className","concat","children","onSubmit","error","errors","firstName","message","_objectSpread","type","lastName","username","password"],"sources":["/Users/timy1/Desktop/2.3.23 - ShoesStore/shoesStore/src/components/AuthArea/Register/Register.tsx"],"sourcesContent":["import React, { FC } from 'react';\nimport {useForm} from 'react-hook-form';\nimport User from '../../../models/User';\nimport * as Auth from '../../../auth/authSlice';\nimport Button from '../../Button/Button';\nimport FormErrors from '../../FormErrors/FormErrors';\nimport styles from './Register.module.scss';\nimport { registerAsync } from '../../../fetch/auth';\nimport { useAppDispatch } from '../../../hooks';\nimport { useNavigate } from 'react-router-dom';\nimport authValidation from '../authValidation';\n\ninterface RegisterProps {}\n\nconst Register: FC<RegisterProps> = () => {\n\n  const navigate = useNavigate();\n  const {register,handleSubmit, formState} = useForm<User>();\n  const dispatch = useAppDispatch();\n\n  const registerHandler = async (user:User) => {\n    try{\n      const token = await registerAsync(user);\n      dispatch(Auth.registration(token));\n\n      alert('registration succeed!!!');\n      navigate('/home');\n      console.log(token);\n\n    }catch(error){\n      console.log('error:' + error);\n    }\n  }\n\n  return(\n    <div className={`Box ${styles.Register}`}>\n                  <h3>Register</h3>\n          <form onSubmit={handleSubmit(registerHandler)}>\n            <FormErrors error={formState.errors.firstName?.message}>\n              <label>first name:</label>\n              <input type=\"text\" {...register('firstName', authValidation.firstName)}/>\n            </FormErrors>\n            <FormErrors error={formState.errors.lastName?.message}>\n              <label>last name:</label>\n              <input type=\"text\" {...register('lastName', authValidation.lastName)}/>\n            </FormErrors>\n            <FormErrors error={formState.errors.username?.message}>\n              <label>username:</label>\n              <input type=\"text\" {...register('username', authValidation.username)}/>\n            </FormErrors>\n            <FormErrors error={formState.errors.password?.message}>\n              <label>password:</label>\n              <input type=\"password\" {...register('password', authValidation.password)}/>\n            </FormErrors>\n            <Button>Register</Button>\n          </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}